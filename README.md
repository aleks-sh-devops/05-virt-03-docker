# 05-virt-03-docker

## Задача 1

Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

## Ответ

Страница немного хреново отображалась, поэтому чуть подправил html  
https://github.com/aleks-sh-devops/web_netology - Это файлы для сборки образа и скрипт для сборки/запуска, который накидал.  
https://hub.docker.com/r/aleksshdevops/web_netology - Это уже собранный и опубликованный образ.  

![screen1](1.png)

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение;
- Nodejs веб-приложение;
- Мобильное приложение c версиями для Android и iOS;
- Шина данных на базе Apache Kafka;
- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- Мониторинг-стек на базе Prometheus и Grafana;
- MongoDB, как основное хранилище данных для java-приложения;
- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

## Ответ
- Высоконагруженное монолитное java веб-приложение;  
Монолиты - это явно не про контейнеры. ВМ либо физический сервер. ВМ удобно бэкапить, а у физического кпд выше.  

- Nodejs веб-приложение;  
Контейнеры в Nodejs, как понимаю - обычная история и давно уже используется повсеместно.   

- Мобильное приложение c версиями для Android и iOS;  
Не знаю специфики, но думаю физ сервер для этого использовать слишком жирно. В ВМ или контейнер. Думаю, что зависит от нагрузки.  

- Шина данных на базе Apache Kafka;  
На продакшене я бы юзал ВМ или физ. сервак, так как контейнер - вещь непостоянная и если он упадет можно потерять данные.  

- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;  
В физической машине точно отсутствует необходимость. Видел как реализацию на ВМ, так и на Контейнерах. Тут, по всей видимости, ключевой момент в нагрузке джава любит есть. И поэтому необходимо смотреть на потребление ресурсов.  

- Мониторинг-стек на базе Prometheus и Grafana;  
Докер контейнеры. В физической машине или виртуальной машине отсутствует необходимость  

- MongoDB, как основное хранилище данных для java-приложения;  
Тут нeжно смотреть на нагрузку. Понятное дело что инфа хранится вне контейнера. Джава прожорлива поэтому контейнер может не вытянуть (Хотя образ имеется https://hub.docker.com/_/mongo). Я бы смотрел в сторону ВМ. Ну и разумеется кластеризация.  

- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.  
Имел возможность потестировать Гитлаб и в качестве ВМ и в качестве контейнера. По мне - самый лучший вариант контейнеры гитлаб и закрытого Docker Registry. Это упрощает процесс миграции и обновления. Тем более нагрузка при разворачивании проектов ложится, как понимаю, на раннеры.
